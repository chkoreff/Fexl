# Test fancy extended standard context.
evaluate;
use "test/common.fxl" \;

\use_standard=
(
\speaker=(\name \x put name put " says " say x)
\form
define "fred" (speaker "Fred");
define "wilma" (speaker "Wilma");
define "goodbye" (say "Goodbye");
use_standard;
form
)

\use_standard=
(\form
use_standard;
define "use_standard" use_standard;
form
)

evaluate;
say "Evaluating the context."
use_standard;
\;

evaluate;
use_standard;
define "fred" (put "HEY: " fred);
\;

# Now run this program in the enhanced context.
say "Hi"
say (+ 32 (* 5 5))
say (is_void void)
fred "a"
wilma "b"
goodbye
