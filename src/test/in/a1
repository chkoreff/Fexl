#
\: = (\x show x nl)

say "===" # TODO if this goes inside the parens we see (I say)
(
: C
: S
: I
: F
: T
: R
: L
: @
: Y
: later
: ?
: halt
: pair
: cons
: show
: nl
: print
: say
: long_add
: long_sub
: long_mul
: long_div
: order
: stdin
: stdout
: stderr
: pi
: -2.06
: setrlimit
)

\NL="
"

say "==="
say ["source_label = " source_label]
say ["source_line = " source_line]

(
say "==="
\x=42
say ["Hello world." NL "x = " x]
say (long_add x 5)
say (long_sub x 5)
say (long_mul x 5)
say (long_div x 5)
say (long_div x 0)
say (long_cmp 2 3)
say (long_cmp 2 2)
say (long_cmp 3 2)

say (+ x 5)
say (- x 5)
say (* x 5)
say (/ x 5)
say (/ x 0)

say (long_string 285)
say (order -5 "lt" "eq" "gt")
say (order 0 "lt" "eq" "gt")
say (order 1 "lt" "eq" "gt")

say [(long_char 65) (long_char 97)]

\who="world"
print "Hello "
print [who"."]
print NL
)

say "==="
# Test deferred evaluation with "later".

\ping=(say "ping!")

\g==
	(
	\f=(ping ping)
	later (f f)
	)
g

say "==="
# Test eager evaluation.
\f==(ping ping ping)


say "==="
\append=(@\append\xs\ys xs ys \x\xs cons x; append xs ys)
\list=(append ["x" "y"] ["z"])
\list=(append list; append list; ["!"])
say list

say "==="
say ~| "Ain't nothin' simple when you're doin' it for real." (Gus Baird)|
nl
say ~@
"My fathers sleep on the sunrise plains,
And each one sleeps alone.
Their trails may dim to the grass and rains,
For I choose to make my own.
I lay proud claim to their blood and name,
But I lean on no dead kin;
My name is mine, for the praise or scorn,
And the world began when I was born
And the world is mine to win. ..."

  (Badger Clark, "The Westerner")
@

say "==="
# Multiple layers of quotation.
say "hello"
say ~(1) "hello"(1)
say ~(2) ~(1) "hello"(1)(2)
say ~(3) ~(2) ~(1) "hello"(1)(2)(3)

say "==="
: (\x\y x)
: (\x x)
: (\x\y\z x z y)
: (\x\y\z x (y z))
: (\x\y\z x z (y z))
nl
: (\x\y\z x; y z)
: (\x\y\z x z; y z)
nl
: (\x)
: (\x="y" x)
: (
\I=(\x x)
\S=(\x\y\z x z (y z))
S
)
: (
\S=(\x\y\z x z (y z))
S
)
: (\x x x)
: (\x "y")
: (
\Q=(\x\y x (y y))
\f Q f (Q f)
)
: (
\q=(\x\y x (y y))
q
)
: (
\q=(\x\y x (y y))
)

say "==="
# Show symbolic forms.

: {"x"}
: {x}
: {x y}
: {
x y <=
abcdefghijklmnopqrstuvwxyz
}
: {[1 [2 3] [] [4] "hi"; append x y]}
:
{
abcd ef 47.806 99 -22
(a (b c); d e (f g) h)
}
: {"
"}
: {""}
: {"a"}
: {~" a"}
: {~" "}

: {~| a|}
: {"hi"x}
: {~EOM aEOM}

# Tricky string terminators here
: {~ABC abcdABAABC}
: {~ABCD AABABCABCDABCD}

say "==="
# Show some applicative forms.

: (ping ping)

# TODO If you pound out any of these forms, it causes large differences in
# how the others are displayed.

: (S C)
: (S C)
: (I (C S))
: (I (S C))

say "==="
say ["argc = " argc]
say ["argv 0 = " (argv 0)]
say ["argv 1 = " (argv 1)]
say ["argv 2 = " (argv 2)]

say ["base_path = " base_path]

say "==="
\x==new
: x
set x 12.6
: x
\v==(get x)
: v
set x (double_add (get x) 5.0)
: x

say ["x = " x]

say "==="
say ["RLIMIT_AS = " RLIMIT_AS]
say ["RLIMIT_CORE = " RLIMIT_CORE]
say ["RLIMIT_CPU = " RLIMIT_CPU]
say ["RLIMIT_DATA = " RLIMIT_DATA]
say ["RLIMIT_FSIZE = " RLIMIT_FSIZE]
say ["RLIMIT_LOCKS = " RLIMIT_LOCKS]
say ["RLIMIT_MEMLOCK = " RLIMIT_MEMLOCK]
say ["RLIMIT_MSGQUEUE = " RLIMIT_MSGQUEUE]
say ["RLIMIT_NICE = " RLIMIT_NICE]
say ["RLIMIT_NOFILE = " RLIMIT_NOFILE]
say ["RLIMIT_NPROC = " RLIMIT_NPROC]
say ["RLIMIT_RSS = " RLIMIT_RSS]
say ["RLIMIT_RTPRIO = " RLIMIT_RTPRIO]
say ["RLIMIT_RTTIME = " RLIMIT_RTTIME]
say ["RLIMIT_SIGPENDING = " RLIMIT_SIGPENDING]
say ["RLIMIT_STACK = " RLIMIT_STACK]

\\
Extra stuff not parsed.
