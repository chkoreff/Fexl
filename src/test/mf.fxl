# https://en.wikipedia.org/wiki/Hofstadter_sequence#Hofstadter_Female_and_Male_sequences
evaluate (use "test.fxl" standard) \;

\female=
	(
	\cache=new_cache
	\male
	@\female

	\n \n=n
	cache n;
	le n 0 1;
	- n (male (female (- n 1)))
	)

\male=
	(
	\cache=new_cache
	@\male
	\female==(female male)

	\n \n=n
	cache n;
	le n 0 0;
	- n (female (male (- n 1)))
	)

\female=(female male)

#trace_elapsed;
show_benchmark;

\max=35
#\max=1000

\show_sequence=
	(\label\f
	say label
	each (range 0 max) (\n put [(f n) " "])
	nl
	)

show_sequence "female" female
show_sequence "male" male
show_sequence "diff" (\n - (female n) (male n))
