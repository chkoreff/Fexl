#
\test_context=
(\cx

\try=
	(\name
	\val=(cx name)
	\ok=(is_defined val)
	say ["name "name" : "ok]
	)

try "say"
try "is_defined"
try "cx_std"
try "+"
try "@"
try "define"
try "if"
try "each"
try "div"
try "show_list"
try "use_file"
try "use"
try "void"
try "dirname"
try "hex_digit"
try "read_ssv_file"
try "read_csv_file"
try "2.5"
try "0"
try "-3.56"
try "-3.56e-4"
try "-3.56e-4x"
try "x"
)

say "== test_full"
test_context (chain (evaluate cx_std; use "test.fxl"); cx_std)

say "== test_restricted"
test_context
	(
	define "say" say;
	define "is_defined" is_defined;
	void
	)

(
say "== test_run_restricted"
evaluate
(
# This context defines only 5 available functions.
define "say" say;
define "seed_rand" seed_rand;
define "rand" rand;
define "fred" (say "I am Fred.");
define "wilma" (say "I am Wilma.");
void
)
\;

seed_rand 0.1964
fred
say rand
say rand
wilma
)
